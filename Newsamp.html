<html>
<body>

<button onclick="myFunction()">Click me</button>

<textarea id="demo">></textarea>

<p>A function is triggered when the button is clicked. The function
outputs some text in a p element with id="demo".</p>

<script>
var a0_value;
var voltage_conductivity;
var resistance;
var resistivity;
var conductivity;
var TDS;
function myFunction() {
    if(cpf){
        //get the value of pin A0
        a0_value = cpf.get("a0");
        voltage_conductivity = (a0/1023)*5;
        resistance = ((5*10000)/voltage_conductivity)-10000;
        resistivity = resistance*0.0002/0.01;
        conductivity = (1/resistivity)*1000;
        TDS = conductivity*10*0.67;
        salinity = (Math.pow((conductivity/100), 1.0878))*0.4665;8
        document.getElementById("demo").innerHTML = "TDS: " + String(TDS);
    }
}

// init the pin
function setup(){
    if(cpf){
        cpf.setPinMode('["resetPin"],["setPinMode", "analog", 0, "INPUT"]'); 
    }
}

setup();

</script>

</body>
</html>

